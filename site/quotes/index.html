
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../sec_copy/">
      
      
        <link rel="next" href="../ldap/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.0">
    
    
      
        <title>Quotes per a usuaris i grups - Implantació de Sistemes Operatius - POL CASANOVA PUIG</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9f615399.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#quotes-per-a-usuaris-i-grups" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Implantació de Sistemes Operatius - POL CASANOVA PUIG" class="md-header__button md-logo" aria-label="Implantació de Sistemes Operatius - POL CASANOVA PUIG" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Implantació de Sistemes Operatius - POL CASANOVA PUIG
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Quotes per a usuaris i grups
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Implantació de Sistemes Operatius - POL CASANOVA PUIG" class="md-nav__button md-logo" aria-label="Implantació de Sistemes Operatius - POL CASANOVA PUIG" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Implantació de Sistemes Operatius - POL CASANOVA PUIG
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducció
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint1
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Sprint1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../Sprint1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducció al Sprint 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal·lació del sistema operatiu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../partitions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Particions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../llicence/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Llicenciament
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../rest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Punts de restauració
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../net/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració bàsica de xarxa
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../softinst/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal·lació bàsica de programes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestors d'arrencada
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../reboot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Recuperació de gestors d'arrencada
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../cz/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clonezilla
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Sprint2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../spr2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducció al Sprint 2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../imp_files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fitxers importants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../user_gest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió d'usuaris
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../proc_gest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió de processos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../special_perm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Permisos especials i ACLs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sp_use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Aplicació de permisos especials i ACLs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../file_sys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sistema de fitxers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../share_src/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió de particions i compartició de recursos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../autotask/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Automatitzacions de Tasques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../sec_copy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Còpies de Seguretat
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Quotes per a usuaris i grups
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Quotes per a usuaris i grups
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aplicar-quotes" class="md-nav__link">
    Aplicar quotes
  </a>
  
    <nav class="md-nav" aria-label="Aplicar quotes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activar-quotes-en-un-directori" class="md-nav__link">
    Activar Quotes en un Directori
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicar-quotes-a-un-usuari" class="md-nav__link">
    Aplicar quotes a un usuari
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprovacio-de-la-quota-dusuari" class="md-nav__link">
    Comprovació de la quota d'usuari
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superar-el-limit-de-quota" class="md-nav__link">
    Superar el Límit de Quota
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comportament-al-superar-el-limit" class="md-nav__link">
    Comportament al superar el límit:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicar-quotes-a-grups" class="md-nav__link">
    Aplicar Quotes a Grups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacio-de-fitxers-i-intent-de-sobrepassar-el-limit-de-quota" class="md-nav__link">
    Creació de fitxers i intent de sobrepassar el límit de quota
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sprint3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Instal·lació domini LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../client_ldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració del client LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../gestio_ldap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gestió del domini LDAP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../smb_nfs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Perfils mòbils i Compartició de recursos
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../share_samba/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compartir recursos amb SAMBA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ldap_gui/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració LDAP GUI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sprint4
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Sprint4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../raidintro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducció teòrica als RAIDs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../raid1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració de RAID 1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../raid5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuració de RAID 5
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aplicar-quotes" class="md-nav__link">
    Aplicar quotes
  </a>
  
    <nav class="md-nav" aria-label="Aplicar quotes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activar-quotes-en-un-directori" class="md-nav__link">
    Activar Quotes en un Directori
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicar-quotes-a-un-usuari" class="md-nav__link">
    Aplicar quotes a un usuari
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprovacio-de-la-quota-dusuari" class="md-nav__link">
    Comprovació de la quota d'usuari
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#superar-el-limit-de-quota" class="md-nav__link">
    Superar el Límit de Quota
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comportament-al-superar-el-limit" class="md-nav__link">
    Comportament al superar el límit:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aplicar-quotes-a-grups" class="md-nav__link">
    Aplicar Quotes a Grups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacio-de-fitxers-i-intent-de-sobrepassar-el-limit-de-quota" class="md-nav__link">
    Creació de fitxers i intent de sobrepassar el límit de quota
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="quotes-per-a-usuaris-i-grups">Quotes per a Usuaris i Grups</h1>
<p><strong>Què són les QUOTES de disc?</strong></p>
<p>Les quotes de disc són una eina essencial per limitar i gestionar l'espai d'emmagatzematge utilitzat per usuaris i grups en un sistema Linux. Aquestes permeten prevenir l'ús excessiu d'espai de disc, assegurant que cap usuari o grup monopolitzi els recursos del sistema.</p>
<p>En aquest apartat aprendrem:</p>
<ul>
<li>
<p>Què són les quotes de disc i per què són útils.</p>
</li>
<li>
<p>Com assignar quotes a usuaris individuals.</p>
</li>
<li>
<p>Com configurar quotes per a grups.</p>
</li>
<li>
<p>Com monitoritzar les quotes i configurar notificacions automàtiques.</p>
</li>
</ul>
<h2 id="aplicar-quotes">Aplicar quotes</h2>
<p>Primerament, instal·lem <code>quota</code> utilitzant la següent comanda:</p>
<p><code>apt install quota</code></p>
<p>Hem creat una partició <code>/dev/sdb1</code> i posteriorment hem muntat la carpeta <code>/mnt/dades</code> editant el fitxer <strong>fstab</strong>.</p>
<blockquote>
<p><strong>Atenció!</strong> Molt de compte amb el fitxer <strong>fstab</strong>. Si introdueixes alguna configuració incorrecta, el sistema pot no arrencar i hauràs de reparar-lo manualment.</p>
</blockquote>
<p><img alt="110" src="../Imatges/img/110.png" /></p>
<p>Afegim les opcions <code>defaults,usrquota,grpquota</code>. Això habilitarà les quotes tant per a grups com per a usuaris.</p>
<p>Després de configurar-ho, reiniciem el sistema perquè el muntatge s'apliqui correctament.</p>
<h3 id="activar-quotes-en-un-directori">Activar Quotes en un Directori</h3>
<p>Un cop el sistema estigui en marxa, comprovem si els fitxers de quota existeixen executant:</p>
<ul>
<li>
<p><code>quotacheck -cug /mnt/dades</code></p>
</li>
<li>
<p><code>quotaon /mnt/dades</code></p>
</li>
</ul>
<p>Aquests passos verificaran i activaran les quotes.</p>
<p><img alt="111" src="../Imatges/img/111.png" /></p>
<blockquote>
<p><strong>Nota!</strong> Si no veus els fitxers aquota.group i aquota.user, pots forçar-ne la creació amb <code>quotacheck -cugm /mnt/dades</code> i posteriorment activar-los amb <code>quotaon /mnt/dades</code>.</p>
</blockquote>
<h3 id="aplicar-quotes-a-un-usuari">Aplicar quotes a un usuari</h3>
<p>Per assignar quotes als usuaris, existeixen dues maneres. </p>
<p>Una d'elles és utilitzant <code>edquota -u + nomUsuari</code>, que permet editar manualment les quotes assignades a un usuari.</p>
<p><code>edquota -u nomUsuari</code></p>
<p><img alt="112" src="../Imatges/img/112.png" /></p>
<ul>
<li>
<p><strong>Bla o Soft</strong>: Indica el límit tou, que l'usuari pot excedir durant el període de gràcia.</p>
</li>
<li>
<p><strong>Dur o Hard</strong>: Representa el límit màxim que no es pot excedir.</p>
</li>
</ul>
<p>Configura aquests valors segons les necessitats de cada usuari.</p>
<p>Una altra manera d'assignar quotes és amb la següent comanda:</p>
<p><code>setquota -u nomUsuari 1024 2048 0 0 /mnt/dades</code></p>
<p>Aquesta comanda fa el mateix que l'edició manual amb <strong>edquota</strong>, però no cal entrar dins del fitxer ni modificar-lo manualment.</p>
<p><strong>Exemple</strong></p>
<p>En aquesta secció, expliquem com assignar quotes als usuaris amb exemples pràctics.</p>
<p><img alt="113" src="../Imatges/img/113.png" /></p>
<blockquote>
<p><strong>Nota</strong>: Si l'usuari no pot escriure executa <code>chmod 777 /mnt/dades</code>.</p>
</blockquote>
<p><strong>Intentem sobrepassar el límit per veure què pot passar</strong></p>
<p><img alt="114" src="../Imatges/img/114.png" /></p>
<p>La comanda <code>dd</code> s'utilitza per copiar i convertir fitxers de manera controlada. En aquest cas, s'utilitza per crear fitxers de prova amb dades generades aleatòriament a partir de <code>/dev/zero</code>.</p>
<p><strong>Comanda:</strong></p>
<p><code>dd if=/dev/zero of=test bs=1K count=800</code></p>
<ul>
<li>
<p><strong>if=/dev/zero</strong>: Especifica el fitxer d'entrada, en aquest cas <code>/dev/zero</code>, que és un dispositiu especial que genera zeros contínuament.</p>
</li>
<li>
<p><strong>of=test</strong>: El fitxer de sortida, en aquest cas es crea un fitxer anomenat <strong>test</strong>.</p>
</li>
<li>
<p><strong>bs=1K</strong>: La mida del bloc de dades que es copiaran és de <strong>1KB</strong>.</p>
</li>
<li>
<p><strong>count=800</strong>: Es copien <strong>800 blocs de 1KB</strong>, resultant en un fitxer de <strong>800KB</strong>.</p>
</li>
</ul>
<p>L'execució de la comanda crea un fitxer <code>test</code> de 819200 bytes (800KB) i mostra la velocitat de còpia (en aquest cas, <strong>585 MB/s</strong> en la primera execució i <strong>713 MB/s</strong> en la segona).</p>
<h3 id="comprovacio-de-la-quota-dusuari">Comprovació de la quota d'usuari</h3>
<p>A la captura es mostra la comanda <code>quota -u pol</code> per comprovar l'estat de la quota d'un usuari específic, en aquest cas, l'usuari <strong>pol</strong>.</p>
<p><img alt="115" src="../Imatges/img/115.png" /></p>
<p><strong>Comanda:</strong></p>
<p><code>quota -u nomUsuari</code></p>
<p>Aquesta comanda mostra la informació de les quotes de disc per a un usuari específic.</p>
<p><strong>Explicació de la sortida:</strong></p>
<ul>
<li>
<p><code>/dev/sdb1</code>: La partició on s'aplica la quota (en aquest cas, <code>/dev/sdb1</code>).</p>
</li>
<li>
<p><code>1028*</code>: L'espai actual utilitzat per l'usuari en blocs (1028 blocs). El símbol <code>*</code> indica que s'ha superat el límit tou.</p>
</li>
<li>
<p><code>1024</code>: Límit tou (soft limit) assignat, en blocs (1024 blocs o 1 MB).</p>
</li>
<li>
<p><code>2048</code>: Límit dur (hard limit) assignat, en blocs (2048 blocs o 2 MB).</p>
</li>
<li>
<p><code>7 días</code>: El període de gràcia de 7 dies per superar el límit tou.</p>
</li>
<li>
<p><code>3</code>: El nombre de fitxers utilitzats.</p>
</li>
</ul>
<h3 id="superar-el-limit-de-quota">Superar el Límit de Quota</h3>
<p><img alt="116" src="../Imatges/img/116.png" /></p>
<p>A la captura es mostra el que passa quan l'usuari <code>pol</code> supera el límit de quota assignat:</p>
<p><strong>Comanda <code>dd</code> per crear fitxers:</strong></p>
<p>L'usuari intenta crear fitxers amb la comanda dd, però es genera un error perquè s'ha superat la quota de disc. Els missatges d'error són els següents:</p>
<ul>
<li>
<p><em>"dd: error al escribir en 'test2': Se ha excedido la cuota de disco"</em></p>
</li>
<li>
<p><em>"dd: error al escribir en 'test3': Se ha excedido la cuota de disco"</em></p>
</li>
</ul>
<p>Això indica que quan l'usuari intenta escriure més dades en els fitxers, el sistema bloqueja l'operació perquè s'ha arribat al límit de quota.</p>
<p><strong>Comprovació de la quota amb <code>quota</code>:</strong></p>
<p>Quan l'usuari comprova l'estat de la seva quota amb la comanda <code>quota -u nomUsuari</code>, es pot veure que ha superat el límit de quota assignat:</p>
<p><code>/dev/sdb1 2048* 1024 2048 6 días</code></p>
<ul>
<li>
<p><code>2048*</code>: L'usuari ha utilitzat 2048 blocs, que és el límit dur (hard limit).</p>
</li>
<li>
<p><code>1024</code>: Límit tou (soft limit) de 1 MB.</p>
</li>
<li>
<p><code>2048</code>: Límit dur (hard limit) de 2 MB.</p>
</li>
<li>
<p><code>6 días</code>: El període de gràcia de 6 dies, durant el qual l'usuari pot seguir utilitzant l'espai fins que redueixi l'ús d'espai.</p>
</li>
</ul>
<h3 id="comportament-al-superar-el-limit">Comportament al superar el límit:</h3>
<p>Quan un usuari supera el límit dur (hard limit), el sistema impedeix que pugui escriure més dades al disc fins que redueixi l'ús d'espai per sota del límit dur. Això és el que es veu en la captura: el sistema bloqueja l'escriptura després d'excedir la quota.</p>
<p>Quan descarreguem una foto i intentem guardar-la a <code>/mnt/dades</code>, obtenim el següent resultat:</p>
<p><img alt="117" src="../Imatges/img/117.png" /></p>
<p>Apareix una descàrrega completa amb un pes de <strong>0 bytes</strong>. Això passa perquè no ens permet excedir la quota de disc.</p>
<p>Aquest procés falla. A més, si intentem moure alguna foto o arxiu dins del directori <code>/mnt/dades/</code>, apareix aquest altre error indicant que hem superat la quota.</p>
<p><img alt="118" src="../Imatges/img/118.png" /></p>
<h3 id="aplicar-quotes-a-grups">Aplicar Quotes a Grups</h3>
<p>Una altra manera molt utilitzada per aplicar quotes és fer-ho a nivell de grups. En aquest cas, podem assignar una quota a un grup i afegir-hi els usuaris. Així, els usuaris dins d'aquest grup heretaran la quota del grup.</p>
<p>Afegim l'usuari <strong>pol</strong> al grup de <strong>classe</strong> i apliquem la quota.</p>
<p><code>setquota -g classe 5120 10240 0 0 /mnt/dades</code></p>
<p><img alt="119" src="../Imatges/img/119.png" /></p>
<blockquote>
<p><strong>Atenció!</strong> Aquesta configuració només funcionarà si els usuaris no tenen una quota assignada de manera individual. Si l'usuari té una quota pròpia, aquesta prevaldrà sobre la quota del grup, com podem observar a la següent captura.</p>
</blockquote>
<p><img alt="120" src="../Imatges/img/120.png" /></p>
<p>En aquesta captura, podem veure que l'usuari <strong>pol</strong> està dins del grup <strong>classe</strong>, però quan utilitzem la comanda <code>repquota -g /mnt/dades</code> per verificar les quotes del grup, la quota aplicada a l'usuari <strong>pol</strong> continua sent la seva quota individual, no la del grup.</p>
<p>Quan verifiquem la quota de l'usuari amb la comanda <code>repquota -u /mnt/dades</code>, veiem que la quota de <strong>pol</strong>** preval sobre la quota del grup, ja que la quota personal de l'usuari és visible en lloc de la quota del grup. Això confirma que, quan un usuari té una quota assignada directament, aquesta preval sobre les quotes assignades al grup.</p>
<p><strong>Creació de l'usuari "Mireia" i el grup "Classe"</strong></p>
<p>En aquest apartat, crearem un nou usuari anomenat <strong>mireia</strong>. Posteriorment, afegirem <strong>mireia</strong> al grup <strong>classe</strong> i assignarem la carpeta <code>/mnt/dades</code> a aquest grup.</p>
<p><img alt="121" src="../Imatges/img/121.png" /></p>
<p>No és estrictament necessari que el grup propietari de <code>/mnt/dades</code> sigui <strong>classe</strong>, però és recomanable per assegurar que els membres del grup tinguin els permisos adequats per accedir i escriure a la carpeta.</p>
<p>Per assignar el grup propietari, utilitzarem la comanda següent:</p>
<p><code>chown :classe /mnt/dades</code></p>
<h3 id="creacio-de-fitxers-i-intent-de-sobrepassar-el-limit-de-quota">Creació de fitxers i intent de sobrepassar el límit de quota</h3>
<p>Després de crear l'usuari i assignar-li el grup, crearem alguns fitxers per intentar sobrepassar el límit de quota del grup <strong>classe</strong>.</p>
<p><img alt="122" src="../Imatges/img/122.png" /></p>
<p><strong>Comprovació de l'estat de la quota de grup</strong></p>
<p>Finalment, comprovem l'estat de les quotes del grup <strong>classe</strong> utilitzant la comanda:</p>
<p><code>repquota -g /mnt/dades</code></p>
<p><img alt="123" src="../Imatges/img/123.png" /></p>
<p><strong>Explicació de la Captura</strong></p>
<p>Aquesta captura mostra la sortida de la comanda <code>repquota -g /mnt/dades</code> per al grup <strong>classe</strong> en un sistema de fitxers montat a <code>/mnt/dades</code>.</p>
<ul>
<li>
<p><strong>Grup</strong>: <code>classe</code></p>
</li>
<li>
<p><strong>Usat</strong>: El grup ha utilitzat <strong>20480</strong> blocs. Això significa que el grup <strong>classe</strong> ha utilitzat <strong>20MB d'espai</strong> a la partició.</p>
</li>
<li>
<p><strong>Blando (límit tou)</strong>: El límit tou (soft limit) per al grup és de <strong>10240</strong> blocs (10MB). El grup ha superat aquest límit, però encara està dins del límit dur.</p>
</li>
<li>
<p><strong>Duro (límit dur)</strong>: El límit dur (hard limit) per al grup és de <strong>20480</strong> blocs (20MB). El grup està exactament al límit dur, el que significa que ja ha arribat al límit màxim d'espai permès.</p>
</li>
<li>
<p><strong>Gracia</strong>: El període de gràcia és de <strong>6 dies</strong>. Això vol dir que el grup té 6 dies per reduir el seu ús d'espai per sota del límit dur abans que es prenguin mesures.</p>
</li>
</ul>
<p><strong>Notes addicionals:</strong></p>
<ul>
<li>
<p>El símbol <code>+</code> a la columna <strong>Usat</strong> indica que el grup ha superat el límit tou però no ha arribat al límit dur.</p>
</li>
<li>
<p>Els altres usuaris (com <strong>root</strong> i <strong>pol</strong>) no tenen cap quota assignada o només s'han mostrant les dades generals sense que s'excedeixin els límits.</p>
</li>
</ul>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.4e0fa4ba.min.js"></script>
      
    
  </body>
</html>